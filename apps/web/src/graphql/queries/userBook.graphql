query UserBook($where: BookWhereUniqueInput!) {
  userBook(where: $where) {
    book {
      id
      title
      authors
      pageCount
      identifiers {
        source
        sourceId
      }
      covers {
        url
        size
      }
    }
    userId
    status
    rating
    shelves {
      shelf {
        id
        name
      }
    }
  }
}

query GetUserBooks(
  $where: UserBookWhereInput
  $limit: Int! = 100
  $offset: Int! = 0
  $orderBy: UserBookOrderByWithRelationInput
) {
  getUserBooks(
    where: $where
    offset: $offset
    limit: $limit
    orderBy: $orderBy
  ) {
    userBooks {
      id
      book {
        id
        title
        authors
        pageCount
        identifiers {
          source
          sourceId
        }
        covers {
          url
          size
        }
      }
      userId
      status
      rating
      createdAt
      updatedAt
      order
      shelves {
        shelf {
          id
          name
        }
      }
      _count {
        shelves
        journalEntry
      }
      journalEntry {
        id
        readingNotes
        dateRead
        currentPage
        currentPercent
      }
    }
    hasMore
    totalBooks
  }
}

query CountUserBooks($where: UserBookWhereInput) {
  countUserBooks(where: $where)
}
